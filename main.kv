# KV Config File

# Login menu
<LoginMenuScreen>

    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'bg.jpg'

    # Float screen
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#000000"
            background_image: 'bg.jpg'
            ActionView:
                use_separator: True
                ActionPrevious:
                    markup: True
                    title: '[b][font=Barare]Login[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "icon.png"

        # Login text
        Label:
            markup: True 
            size_hint: .8, 0.2
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            text: "[b][font=Barare]Enter Login [/font][/b]"
            background_color: "#FFFFFF"

        # Login error
        Label:
            id: errorlable
            markup: True 
            size_hint: .5, 0.2
            pos_hint: {"center_x": 0.5, "center_y": 0.2}
            text: ""
            background_color: "#FFFFFF"

        # Password input
        TextInput:
            id: email
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            hint_text: "Email"

        
        TextInput:
            id: password
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            password: True
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            hint_text: "Password"

        # Submit button 
        Button:
            size_hint: .25, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Login[/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.375, "center_y": 0.3}
            on_press: root.login(email.text, password.text, errorlable)
        
        # Quit button
        Button:
            size_hint: .25, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Quit[/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.625, "center_y": 0.3}
            on_press: exit()

        # Register button
        Button:
            size_hint: .5, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Create Account[/font][/b]"
            background_color: "#111111"
            foreground_color: "#000000"
            password: True
            pos_hint: {"center_x": 0.5, "center_y": 0.2}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'RegisterMenu'
        
        
# Main menu 
<MainMenuScreen>

    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    id: iptext
                    markup: True
                    title: '[b][font=Barare]Barare[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "icon.png"
                ActionButton:
                    icon: 'user.png'
                    size_hint: 0.1,0.7
                    pos_hint: {"center_y": 0.5}
                    on_press:
                        root.manager.transition.direction = 'right'
                        root.manager.current = 'Profile'

        # Icon
        Image:
            source: "computer.png"
            size_hint: .3, .3
            pos_hint: {"center_x": 0.5, "center_y":0.7}

        # Text
        Label:
            font_name: "Barare"
            markup: True
            halign: "left"
            color: "#CCCCCC"
            text: "[b]developing...[/b]"


        # Main menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'MainMenu'
            disabled: True 
            disabled_color: "#FF0000"

        # About menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'About'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'AboutMenu'


# About menu
<AboutMenuScreen>

    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: '[b][font=Barare]About[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "icon.png"
                ActionButton:
                    icon: 'user.png'
                    size_hint: 0.1,0.7
                    pos_hint: {"center_y": 0.5}
                    on_press:
                        root.manager.transition.direction = 'right'
                        root.manager.current = 'Profile'

        # Icon
        Image:
            source: "icon.png"
            size_hint: 1, 1
            pos_hint: {"center_y":0.8}

        # About text
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            size_hint: (0.95, 0.40)
            pos_hint: {"center_y":0.3}

            Label:
                id: result
                font_name: "RobotoMono-Regular"
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
                padding: 50, 0
                markup: True
                halign: "left"
                color: "#CCCCCC"
                text: "[b]So... This is LMS App\n\n[/b]"

        # Main menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'MainMenu'
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'MainMenu'

        # About menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'About'
            disabled: True
            disabled_color: "#FF0000"

# Profile menu
<ProfileScreen>

    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: '[b][font=Barare]Profile[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "icon.png"

        # Logo
        Image:
            source: "user.png"
            size_hint: 1, 1
            pos_hint: {"center_y":0.8}

        #  Username
        Label:
            markup: True
            text: "[b][font=Barare]Member[/font][/b]"
            pos_hint: {"center_y":0.70}

        # Profile information
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            size_hint: (0.97, 0.40)
            pos_hint: {"center_y":0.3, "center_x":0.5}

            Label:
                id: profile_txt
                font_name: "RobotoMono-Regular"
                markup: True
                halign: "left"
                color: "#CCCCCC"
                text: ""

        # Main menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'Back'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'MainMenu'

        # Logout button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'Logout'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'LoginMenu'

# Register Menu
<RegisterMenuScreen>

    # Background
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: '[b][font=Barare]Register[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "icon.png"

        # Text
        Label:
            pos_hint: {'center_y': 0.8}
            font_name: "RobotoMono-Regular"
            markup: True
            halign: "center"
            color: "#FFFFFF"
            text: "[b]Create Account[/b]"

        TextInput:
            id: username
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#000000"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            hint_text: "User Name"

        TextInput:
            id: email
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#000000"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            hint_text: "Email"

        
        TextInput:
            id: password
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#000000"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            hint_text: "Password"

        # register error
        Label:
            id: errorlabel
            markup: True 
            size_hint: .5, 0.2
            pos_hint: {"center_x": 0.5, "center_y": 0.2}
            text: ""
            background_color: "#FFFFFF"

        # Quit button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'Quit'
            on_press:
                exit()

        # Output
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            size_hint: (0.8, 0.40)
            pos_hint: {"center_y":0.3, "center_x":0.5}

            Label:
                id: qmcresult
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
                pos_hint: {'center_y': 0.5}
                font_name: "RobotoMono-Regular"
                markup: True
                halign: "center"
                color: "#FFFFFF"
                text: "[b][/b]"

        # Login menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'Back'
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'LoginMenu'



        # Solve button
        Button:
            size_hint: .5, None
            height: "30dp"
            background_color: "#222222"
            foreground_color: "#FFFFFF"
            text: "Submit"
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            on_press:
                root.register(username.text, email.text, password.text, errorlabel)
